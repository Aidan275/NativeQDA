<navigation></navigation>

<div class="bs-loading-container" bs-loading-overlay bs-loading-overlay-active-class="loading-overlay--active" bs-loading-overlay-reference-id="map"> 
	<div class="blur-this">

		<div id="sidebar" class="sidebar collapsed">
			<!-- Nav tabs -->
			<div class="sidebar-tabs">
				<ul role="tablist">
					<li><a href="#search" role="tab"><i class="fa fa-search"></i></a></li>
					<li><a href="#filters" role="tab"><i class="fa fa-sliders"></i></a></li>
				</ul>

				<ul role="tablist">
					<li><a href="#settings" role="tab"><i class="fa fa-gear"></i></a></li>
				</ul>
			</div>

			<!-- Tab panes -->
			<div class="sidebar-content">
				<div class="sidebar-pane" id="search">
					<div id="sidebar-search-header">
						<h1 class="sidebar-header">Search<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
						<div id="map-file-search-input">
							<div class="input-group col-md-12">
								<input type="text" class="search-query form-control" placeholder="Search" ng-model="vm.searchText"/>
								<span class="input-group-btn">
									<button class="btn" type="button" ng-show="vm.searchText" ng-click="vm.searchText=''">
										<span class="fa fa-times"></span>
									</button>
								</span>
							</div>
						</div>
					</div>
					<div id="sidebar-search-body">
						<div class="sidebar-search-results-container" ng-repeat="file in vm.fileList | fileSearch: vm.searchText" ng-mouseenter="vm.fileSearchHover('enter', file)" ng-mouseleave="vm.fileSearchHover('leave', file)" ng-click="vm.fileSearchClick(file)">
							<div class="left">
								<i class="{{file.icon}} fa-3x"></i>
							</div>
							<div class="right">
								<span class="search-file-heading"> {{file.name}}</span>
								<span><strong>Uploaded By: </strong> {{file.createdBy}}</span>
								<span class="hidden-sm hidden-md"><strong>Last Modified: </strong> {{file.lastModified | date : "dd MMMM, yyyy h:mm a"}}</span>
								<span class="hidden-xs hidden-lg sm-last-mod" > {{file.lastModified | date : "dd MMMM, yyyy h:mm a"}}</span>
							</div>
						</div>
					</div>
				</div>

				<div class="sidebar-pane" id="filters">
					<h1 class="sidebar-header">Filters<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
					<div id="sidebar-filters-body">
						<a ng-if="vm.linksHidden" ng-click="vm.toggleLinks()" class="btn btn-primary" role="button">Show Dependecies</a>
						<a ng-if="!vm.linksHidden" ng-click="vm.toggleLinks()" class="btn btn-primary" role="button">Hide Dependecies</a>
					</div>
				</div>

				<div class="sidebar-pane" id="settings">
					<h1 class="sidebar-header">Settings<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
				</div>
			</div>
		</div>

		<div id="map" class="sidebar-map"></div>
	</div>
</div>

<div ng-if="vm.addingLink" class="map-dependent-marker-info">
	<div>
		<div class="dependent-msg">Please select the dependent marker</div>
		<a ng-click="vm.cancelAddingLink()" class="btn btn-danger" role="button">Cancel</a>
	</div>
</div>