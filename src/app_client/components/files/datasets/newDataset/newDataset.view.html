<div class="modal-content"> 
	<form id="add-new-dataset" name="add-new-dataset" role="form" ng-submit="vm.onSubmit()" class="form-horizontal">

		<div class="modal-header">
			<button type="button" ng-click="vm.modal.cancel()" ng-disabled="vm.isProcessing" class="close">
				<span aria-hidden="true">Ã—</span>
				<span class="sr-only">Close</span>
			</button>
			<h4 id="dataset-modal-label" class="modal-title">Add New Dataset</h4>
		</div>

		<div class="modal-body">
			<div class="form-group">
				<label for="dataset-name" class="col-sm-2 control-label">Name</label>
				<div class="col-xs-12 col-sm-2">
					<input id="dataset-name" name="dataset-name" required="required" ng-model="vm.formData.datasetName" class="form-control" type="dataset-name">
				</div>
			</div>

			<div class="form-group">
				<label for="description" class="col-sm-2 control-label">Description</label>
				<div class="col-sm-10">
					<textarea id="description" name="description" required="required" ng-model="vm.formData.description" rows="1" class="form-control"></textarea>
				</div>
			</div>

			<!-- displays file list for MongoDB database -->
			<div class="form-group">
				<div class="col-xs-12">
					<p>At the moment, only certain file types can be analysed (txt, pdf, docx). Below are the available files that are compatible.</p>
					<div class="bs-loading-container" bs-loading-overlay bs-loading-overlay-active-class="loading-overlay--active" bs-loading-overlay-reference-id="new-dataset"> 
						<div class="blur-this new-dataset-table-container">

							<table ng-table="vm.tableParams" class="table table-condensed table-bordered table-striped new-dataset-table">
								<tr class="table-row" ng-repeat="row in $data">
									<td style="text-align: center;">
										<input type="checkbox" ng-if="row.type != 'folder' && row.type != 'parent-dir'" ng-model="vm.selectedFiles[row.textFileKey]" ng-change="vm.updateSelected()"/>
									</td>
									<td data-title="'File Name'" filter="{name: 'text'}" sortable="'name'" class="name-cell" ng-click="vm.viewFile(row, true)">
										<span>
											<i class="{{row.icon}} fa-lg" title="{{row.type | capitalise}}"></i> {{row.name}}
										</span>
									</td>
									<td data-title="'Created By'" filter="{createdBy: 'text'}" sortable="'createdBy'" class="created-by-cell hidden-xs" header-class="'hidden-xs'">{{row.createdBy}}</td>
									<td data-title="'Last Modified'" filter="{lastModified: 'text'}" sortable="'lastModified'" class="last-modified-cell hidden-xs hidden-sm" header-class="'hidden-xs hidden-sm'">{{row.lastModified | date : "dd MMMM, yyyy h:mm a"}}</td>
									<td class="command-cell">
										<a ng-if="row.type!='parent-dir'" ng-click="vm.viewFile(row)" class="btn btn-primary btn-xs" role="button">
											<span ng-if="row.type!='folder'">Raw Text</span>
											<span ng-if="row.type=='folder'">Open</span>
										</a>
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>

				<div class="col-xs-12" ng-show="vm.selectedPathName.length > 0">
					<p><strong>Selected Files</strong></p>
					<div id="selected-files">
						<span ng-repeat="file in vm.selectedPathName">
							<span ng-if="file.path == '/'">/{{file.name}}<br /></span>
							<span ng-if="file.path != '/'">/{{file.path}}/{{file.name}}<br /></span>
						</span>
					</div>
				</div>
			</div>
		</div>

		<div class="modal-footer">
			<button ng-click="vm.modal.cancel()" ng-disabled="vm.isProcessing" type="button" class="btn btndefault">Cancel</button>
			<button type="submit" class="btn btn-primary" role="button" jp-ng-bs-animated-button is-submitting="vm.isSubmittingButton" result="vm.resultButton" options="vm.createButtonOptions">Create Dataset</button>
		</div>

	</form>
</div>

